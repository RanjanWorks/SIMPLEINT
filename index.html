<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expense Tracker | Manage Your Finances (₹)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      .chart-container {
        height: 300px;
        position: relative;
      }
      .expense-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }
      .progress-bar {
        transition: width 0.5s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in {
        animation: fadeIn 0.3s ease-out forwards;
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-indigo-600 text-white shadow-lg">
      <div class="container mx-auto px-4 py-6">
        <div class="flex justify-between items-center">
          <div class="flex items-center space-x-2">
            <i class="fas fa-wallet text-2xl"></i>
            <h1 class="text-2xl font-bold">ExpenseTracker</h1>
          </div>
          <div class="flex items-center space-x-4">
            <button
              id="theme-toggle"
              class="p-2 rounded-full hover:bg-indigo-500"
            >
              <i class="fas fa-moon"></i>
            </button>
            <div class="relative">
              <img
                src="https://randomuser.me/api/portraits/women/44.jpg"
                alt="Profile"
                class="w-10 h-10 rounded-full cursor-pointer border-2 border-white"
              />
              <div
                class="absolute -bottom-1 -right-1 bg-green-400 rounded-full w-3 h-3 border-2 border-white"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Left Column -->
        <div class="lg:col-span-2 space-y-8">
          <!-- Summary Cards -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-white rounded-xl shadow-md p-6">
              <div class="flex justify-between items-center">
                <div>
                  <p class="text-gray-500 text-sm">Total Balance</p>
                  <h2 class="text-2xl font-bold">₹4,250.00</h2>
                </div>
                <div class="bg-green-100 p-3 rounded-full">
                  <i class="fas fa-dollar-sign text-green-600 text-xl"></i>
                </div>
              </div>
              <div class="mt-4">
                <div class="flex justify-between text-sm text-gray-500 mb-1">
                  <span>Income</span>
                  <span>₹5,200.00</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                  <div
                    class="bg-green-500 h-2 rounded-full"
                    style="width: 70%"
                  ></div>
                </div>
              </div>
              <div class="mt-4">
                <div class="flex justify-between text-sm text-gray-500 mb-1">
                  <span>Expenses</span>
                  <span>₹950.00</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                  <div
                    class="bg-red-500 h-2 rounded-full"
                    style="width: 30%"
                  ></div>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-md p-6">
              <div class="flex justify-between items-center">
                <div>
                  <p class="text-gray-500 text-sm">Monthly Budget</p>
                  <h2 class="text-2xl font-bold">₹3,000.00</h2>
                </div>
                <div class="bg-blue-100 p-3 rounded-full">
                  <i class="fas fa-piggy-bank text-blue-600 text-xl"></i>
                </div>
              </div>
              <div class="mt-4">
                <div class="flex justify-between text-sm text-gray-500 mb-1">
                  <span>Spent</span>
                  <span>₹950.00</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                  <div
                    class="bg-blue-500 h-2 rounded-full progress-bar"
                    style="width: 32%"
                  ></div>
                </div>
              </div>
              <div class="mt-4 text-sm text-gray-500">
                <span>Remaining: $2,050.00</span>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-md p-6">
              <div class="flex justify-between items-center">
                <div>
                  <p class="text-gray-500 text-sm">Savings Goal</p>
                  <h2 class="text-2xl font-bold">₹1,250.00</h2>
                </div>
                <div class="bg-purple-100 p-3 rounded-full">
                  <i class="fas fa-bullseye text-purple-600 text-xl"></i>
                </div>
              </div>
              <div class="mt-4">
                <div class="flex justify-between text-sm text-gray-500 mb-1">
                  <span>Saved</span>
                  <span>₹500.00</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                  <div
                    class="bg-purple-500 h-2 rounded-full progress-bar"
                    style="width: 40%"
                  ></div>
                </div>
              </div>
              <div class="mt-4 text-sm text-gray-500">
                <span>Target: $1,250.00 by Dec 2023</span>
              </div>
            </div>
          </div>

          <!-- Add Expense Form -->
          <div class="bg-white rounded-xl shadow-md p-6">
            <h2 class="text-xl font-bold mb-4">Add New Expense</h2>
            <form id="expense-form" class="space-y-4">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="amount"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Amount</label
                  >
                  <div class="relative">
                    <div
                      class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                    >
                      <span class="text-gray-500">$</span>
                    </div>
                    <input
                      type="number"
                      id="amount"
                      class="block w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                      placeholder="0.00"
                      step="0.01"
                      required
                    />
                  </div>
                </div>
                <div>
                  <label
                    for="category"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Category</label
                  >
                  <select
                    id="category"
                    class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    required
                  >
                    <option value="">Select a category</option>
                    <option value="food">Food & Dining</option>
                    <option value="transportation">Transportation</option>
                    <option value="housing">Housing</option>
                    <option value="utilities">Utilities</option>
                    <option value="entertainment">Entertainment</option>
                    <option value="shopping">Shopping</option>
                    <option value="health">Health</option>
                    <option value="education">Education</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>
              <div>
                <label
                  for="description"
                  class="block text-sm font-medium text-gray-700 mb-1"
                  >Description</label
                >
                <input
                  type="text"
                  id="description"
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  placeholder="What was this expense for?"
                />
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="date"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Date</label
                  >
                  <input
                    type="date"
                    id="date"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    required
                  />
                </div>
                <div>
                  <label
                    for="payment-method"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Payment Method</label
                  >
                  <select
                    id="payment-method"
                    class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    required
                  >
                    <option value="">Select payment method</option>
                    <option value="cash">Cash</option>
                    <option value="credit-card">Credit Card</option>
                    <option value="debit-card">Debit Card</option>
                    <option value="bank-transfer">Bank Transfer</option>
                    <option value="digital-wallet">Digital Wallet</option>
                  </select>
                </div>
              </div>
              <div class="flex justify-end">
                <button
                  type="submit"
                  class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                >
                  <i class="fas fa-plus mr-2"></i> Add Expense
                </button>
              </div>
            </form>
          </div>

          <!-- Recent Expenses -->
          <div class="bg-white rounded-xl shadow-md p-6">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-xl font-bold">Recent Expenses</h2>
              <div class="flex space-x-2">
                <button
                  class="px-3 py-1 text-sm bg-gray-100 rounded-md hover:bg-gray-200"
                >
                  All
                </button>
                <button
                  class="px-3 py-1 text-sm bg-gray-100 rounded-md hover:bg-gray-200"
                >
                  This Month
                </button>
                <button
                  class="px-3 py-1 text-sm bg-gray-100 rounded-md hover:bg-gray-200"
                >
                  Custom
                </button>
              </div>
            </div>
            <div id="expenses-list" class="space-y-3">
              <!-- Expense items will be added here by JavaScript -->
            </div>
            <div class="mt-4 text-center">
              <button class="text-indigo-600 hover:text-indigo-800 font-medium">
                View All Expenses
              </button>
            </div>
          </div>
        </div>

        <!-- Right Column -->
        <div class="space-y-8">
          <!-- Spending Chart -->
          <div class="bg-white rounded-xl shadow-md p-6">
            <h2 class="text-xl font-bold mb-4">Spending by Category</h2>
            <div class="chart-container">
              <canvas id="category-chart"></canvas>
            </div>
          </div>

          <!-- Budget Progress -->
          <div class="bg-white rounded-xl shadow-md p-6">
            <h2 class="text-xl font-bold mb-4">Budget Progress</h2>
            <div class="space-y-4">
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-700"
                    >Food & Dining</span
                  >
                  <span class="text-sm text-gray-500">₹210/₹300</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-red-500 h-2.5 rounded-full"
                    style="width: 70%"
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-700"
                    >Transportation</span
                  >
                  <span class="text-sm text-gray-500">₹80/₹150</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-yellow-500 h-2.5 rounded-full"
                    style="width: 53%"
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-700"
                    >Entertainment</span
                  >
                  <span class="text-sm text-gray-500">₹45/₹100</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-green-500 h-2.5 rounded-full"
                    style="width: 45%"
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-sm font-medium text-gray-700"
                    >Shopping</span
                  >
                  <span class="text-sm text-gray-500">₹120/₹200</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-blue-500 h-2.5 rounded-full"
                    style="width: 60%"
                  ></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Stats -->
          <div class="bg-white rounded-xl shadow-md p-6">
            <h2 class="text-xl font-bold mb-4">Quick Stats</h2>
            <div class="grid grid-cols-2 gap-4">
              <div class="bg-indigo-50 p-4 rounded-lg">
                <p class="text-sm text-indigo-600">Daily Avg.</p>
                <p class="text-xl font-bold">₹31.67</p>
              </div>
              <div class="bg-green-50 p-4 rounded-lg">
                <p class="text-sm text-green-600">Weekly Avg.</p>
                <p class="text-xl font-bold">₹221.67</p>
              </div>
              <div class="bg-purple-50 p-4 rounded-lg">
                <p class="text-sm text-purple-600">Biggest Expense</p>
                <p class="text-xl font-bold">₹250.00</p>
              </div>
              <div class="bg-red-50 p-4 rounded-lg">
                <p class="text-sm text-red-600">Most Frequent</p>
                <p class="text-xl font-bold">Food</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-100 border-t border-gray-200 mt-12">
      <div class="container mx-auto px-4 py-6">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <div class="flex items-center space-x-2 mb-4 md:mb-0">
            <i class="fas fa-wallet text-indigo-600 text-xl"></i>
            <span class="font-bold">ExpenseTracker</span>
          </div>
          <div class="flex space-x-6">
            <a href="#" class="text-gray-600 hover:text-indigo-600">About</a>
            <a href="#" class="text-gray-600 hover:text-indigo-600">Features</a>
            <a href="#" class="text-gray-600 hover:text-indigo-600">Pricing</a>
            <a href="#" class="text-gray-600 hover:text-indigo-600">Contact</a>
          </div>
        </div>
        <div
          class="mt-6 pt-6 border-t border-gray-200 text-center text-gray-500 text-sm"
        >
          <p>© 2023 ExpenseTracker. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      // Sample data for the chart
      const sampleExpenses = [
        {
          id: 1,
          amount: 45.0,
          category: "food",
          description: "Dinner at Italian restaurant",
          date: "2023-06-15",
          paymentMethod: "credit-card",
        },
  
      ];

      // Initialize expenses from localStorage or use sample data
      let expenses =
        JSON.parse(localStorage.getItem("expenses")) || sampleExpenses;

      // DOM elements
      const expenseForm = document.getElementById("expense-form");
      const expensesList = document.getElementById("expenses-list");
      const themeToggle = document.getElementById("theme-toggle");

      // Category icons mapping
      const categoryIcons = {
        food: "fa-utensils",
        transportation: "fa-car",
        housing: "fa-home",
        utilities: "fa-bolt",
        entertainment: "fa-film",
        shopping: "fa-shopping-bag",
        health: "fa-heartbeat",
        education: "fa-graduation-cap",
        other: "fa-wallet",
      };

      // Category colors mapping
      const categoryColors = {
        food: "bg-red-100 text-red-600",
        transportation: "bg-yellow-100 text-yellow-600",
        housing: "bg-blue-100 text-blue-600",
        utilities: "bg-indigo-100 text-indigo-600",
        entertainment: "bg-green-100 text-green-600",
        shopping: "bg-purple-100 text-purple-600",
        health: "bg-pink-100 text-pink-600",
        education: "bg-teal-100 text-teal-600",
        other: "bg-gray-100 text-gray-600",
      };

      // Payment method icons
      const paymentIcons = {
        cash: "fa-money-bill-wave",
        "credit-card": "fa-credit-card",
        "debit-card": "fa-credit-card",
        "bank-transfer": "fa-university",
        "digital-wallet": "fa-mobile-alt",
        insurance: "fa-shield-alt",
      };

      // Format date
      function formatDate(dateString) {
        const options = { year: "numeric", month: "short", day: "numeric" };
        return new Date(dateString).toLocaleDateString("en-US", options);
      }

      // Render expenses list
      function renderExpenses() {
        expensesList.innerHTML = "";

        // Sort by date (newest first)
        const sortedExpenses = [...expenses].sort(
          (a, b) => new Date(b.date) - new Date(a.date)
        );

        // Show only last 5 expenses
        const recentExpenses = sortedExpenses.slice(0, 5);

        recentExpenses.forEach((expense) => {
          const expenseElement = document.createElement("div");
          expenseElement.className =
            "expense-item bg-gray-50 p-4 rounded-lg transition-all duration-200 ease-in-out cursor-pointer fade-in";
          expenseElement.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-3">
                            <div class="${
                              categoryColors[expense.category]
                            } p-3 rounded-full">
                                <i class="fas ${
                                  categoryIcons[expense.category]
                                }"></i>
                            </div>
                            <div>
                                <h3 class="font-medium">${
                                  expense.category.charAt(0).toUpperCase() +
                                  expense.category.slice(1)
                                }</h3>
                                <p class="text-sm text-gray-500">${
                                  expense.description || "No description"
                                }</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-red-600">-₹${expense.amount.toFixed(
                              2
                            )}</p>
                            <div class="flex items-center justify-end space-x-2 text-sm text-gray-500">
                                <i class="fas ${
                                  paymentIcons[expense.paymentMethod] ||
                                  "fa-money-bill-wave"
                                }"></i>
                                <span>${formatDate(expense.date)}</span>
                            </div>
                        </div>
                    </div>
                `;
          expensesList.appendChild(expenseElement);
        });
      }

      // Initialize chart
      function initChart() {
        const ctx = document.getElementById("category-chart").getContext("2d");

        // Calculate totals by category
        const categoryTotals = {};
        expenses.forEach((expense) => {
          if (!categoryTotals[expense.category]) {
            categoryTotals[expense.category] = 0;
          }
          categoryTotals[expense.category] += expense.amount;
        });

        const categories = Object.keys(categoryTotals);
        const amounts = Object.values(categoryTotals);

        const backgroundColors = categories.map((cat) => {
          const colorMap = {
            food: "rgba(239, 68, 68, 0.7)",
            transportation: "rgba(234, 179, 8, 0.7)",
            housing: "rgba(59, 130, 246, 0.7)",
            utilities: "rgba(99, 102, 241, 0.7)",
            entertainment: "rgba(16, 185, 129, 0.7)",
            shopping: "rgba(168, 85, 247, 0.7)",
            health: "rgba(236, 72, 153, 0.7)",
            education: "rgba(20, 184, 166, 0.7)",
            other: "rgba(156, 163, 175, 0.7)",
          };
          return colorMap[cat] || "rgba(156, 163, 175, 0.7)";
        });

        const borderColors = backgroundColors.map((color) =>
          color.replace("0.7", "1")
        );

        new Chart(ctx, {
          type: "doughnut",
          data: {
            labels: categories.map(
              (cat) => cat.charAt(0).toUpperCase() + cat.slice(1)
            ),
            datasets: [
              {
                data: amounts,
                backgroundColor: backgroundColors,
                borderColor: borderColors,
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "bottom",
                labels: {
                  padding: 20,
                  usePointStyle: true,
                  pointStyle: "circle",
                },
              },
            },
            cutout: "70%",
          },
        });
      }

      // Handle form submission
      expenseForm.addEventListener("submit", function (e) {
        e.preventDefault();

        const amount = parseFloat(document.getElementById("amount").value);
        const category = document.getElementById("category").value;
        const description = document.getElementById("description").value;
        const date = document.getElementById("date").value;
        const paymentMethod = document.getElementById("payment-method").value;

        const newExpense = {
          id: Date.now(),
          amount,
          category,
          description,
          date,
          paymentMethod,
        };

        expenses.push(newExpense);
        localStorage.setItem("expenses", JSON.stringify(expenses));

        // Reset form
        expenseForm.reset();

        // Re-render expenses and chart
        renderExpenses();
        initChart();

        // Show success message
        alert("Expense added successfully!");
      });

      // Set today's date as default
      document.getElementById("date").valueAsDate = new Date();

      // Theme toggle
      themeToggle.addEventListener("click", function () {
        document.documentElement.classList.toggle("dark");
        const icon = themeToggle.querySelector("i");
        if (document.documentElement.classList.contains("dark")) {
          icon.classList.remove("fa-moon");
          icon.classList.add("fa-sun");
          document.body.classList.add("bg-gray-900");
          document.body.classList.remove("bg-gray-50");
        } else {
          icon.classList.remove("fa-sun");
          icon.classList.add("fa-moon");
          document.body.classList.remove("bg-gray-900");
          document.body.classList.add("bg-gray-50");
        }
      });

      // Initialize the app
      document.addEventListener("DOMContentLoaded", function () {
        renderExpenses();
        initChart();

        // Animate progress bars
        setTimeout(() => {
          document.querySelectorAll(".progress-bar").forEach((bar) => {
            bar.style.width = bar.style.width;
          });
        }, 300);
      });
    </script>
  </body>
</html>
